# SOPS configuration file for corporate environment
# This file defines which keys can decrypt which secrets in a corporate setting
# Copy this to .sops.yaml in your corporate flake and modify as needed

keys:
  # Corporate age keys - replace with your actual corporate keys
  - &corporate_user_key age1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  
  # Corporate machine keys (add as needed)
  # - &corporate_machine1 age1yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy

creation_rules:
  # Rules for corporate secrets in the secrets/ directory
  - path_regex: secrets/[^/]+\.(yaml|json|env|ini)$
    key_groups:
    - age:
      - *corporate_user_key
      # - *corporate_machine1  # Uncomment and add machine keys as needed

# To set up corporate environment:
# 1. Generate a corporate age key: age-keygen -o ~/.config/sops/age/keys.txt
# 2. Get your public key: age-keygen -y ~/.config/sops/age/keys.txt
# 3. Replace the placeholder key above with your actual corporate public key
# 4. Copy this file to .sops.yaml in your corporate flake
# 5. Create corporate secrets: sops secrets/corporate-secrets.yaml
# 6. In your corporate flake, set sops.defaultSopsFile to your corporate secrets file

